Day 1: Returns- how much you make on your investment

Types of Returns:
- Simple Returns
- Log Returns

Simple Returns:
 R_t = (P_t - P_{t-1}) / P_{t-1}

Log Returns:
    R_t = ln(P_t / P_{t-1})

    where:
        P_t = Price at time t (new price)
        P_{t-1} = Price at time t-1 (old price)

    Log returns are used because they are additive over time. This means that the log return for a period of time is equal to the sum of the log returns for each sub-period within that period. For example, if you have a log return for a day, you can find the log return for a week by adding the log returns for each day of the week.

Time-specific Returns

    - Point-to-Point Return (Single Period Return) 
    - Rolling Return (Return measured continuously over a window)

Volatility: is the standard deviation of returns

Coefficient of Variation: Volatility divided by return

    CV = Volatility / Return

    where:
        Volatility = Standard deviation of returns
        Return = Mean of returns

Low CV = good (less risk per return)
High CV = bad (more risk per return)

i.e. you want to minimize risk while maximizing return

Sharpe Ratio: is the ratio of the mean return to the standard deviation of returns

    Sharpe Ratio = (Mean Return - Risk Free Rate) / Standard Deviation of Returns

    where:
        Mean Return = Average return
        Standard Deviation of Returns = Volatility
        Risk Free Rate = Rate of return on a risk free investment

    High Sharpe Ratio = good (more return per unit of risk)
    Low Sharpe Ratio = bad (less return per unit of risk)

i.e. How efficiently am I being rewarded for the risk Iâ€™m taking?

So:

CV asks: â€œHow much risk per return?â€
Sharpe asks: â€œHow much return per risk?â€

Sharpe is preferred because it accounts for risk-free baseline.

    Note: CV breaks down when mean return is near zero or negative




Day 2: Distribution of Returns
    A distribution is simply: The shape of all your returns when you group them.

    Mean return: is the average return over a period of time
    Standard deviation measures the typical movement away from the mean
    Skewness measures the asymmetry of the distribution i.e. whether returns lean more towards gains or losses.

    Skew = 0	symmetric
    Skew > 0	more big positive jumps (right tail heavier)
    Skew < 0	more big negative crashes (left tail heavier)
    
    Kurtosis measures the "tailedness" of the distribution i.e. how heavy the tails are or how often extreme events occur.

    Kurtosis = 3	normal distribution
    Kurtosis > 3	heavy tails (more extreme events)
    Kurtosis < 3	light tails (fewer extreme events)
    
    NB: Risk is not just volatility. Risk is what happens in the extremes.

Gaussian Distribution: is a bell-shaped curve that is symmetric around the mean.

    Properties:
        - Mean = Median = Mode
        - Skewness = 0
        - Kurtosis = 3
        - 68% of data falls within 1 standard deviation of the mean
        - 95% of data falls within 2 standard deviations of the mean
        - 99.7% of data falls within 3 standard deviations of the mean
    
    Gaussian distribution assumes returns are clean, symmetric, and extreme events are rare â€” but markets often break this assumption.

Day 3: Downside Risk
    sharpe ratio assumes risk = volatility but real portfolio experience risk as how bad can it get before it recovers

    Volatility is symmetric. Pain is asymmetric.
    Meaning: +5% and -5% are treated equally by volatility but emotionally and financially, losses hurt more.

    Downside volatility is the volatility computed using only the negative return days.

    So instead of asking: â€œHow much does TSLA move overall?â€
    You ask: â€œHow much does TSLA move when itâ€™s losing?â€

    i.e. If: downside volatility â‰ˆ overall volatility. Then TSLAâ€™s volatility comes from both up and down movements.
    If: downside volatility > overall volatility. Then TSLA tends to crash harder than it rallies (very dangerous distribution)
    If: downside volatility < overall volatility. Then TSLAâ€™s volatility is driven more by upside jumps (still volatile, but less â€œpainfulâ€)

Sortino Ratio: is the ratio of the mean return to the downside volatility i.e reward / downside volatility

    Sortino Ratio = (Mean Return - Risk Free Rate) / Downside Volatility

    where:
        Mean Return = Average return
        Risk Free Rate = Rate of return on a risk free investment
        Downside Volatility = Standard deviation of negative returns

Maximmum Drawdown: is the maximum loss from a peak to a trough of a portfolio. It measures the drop from the highest peak.

    How drawdown is calculated:
        1. Build cumulative growth 
            cum_returns = exp(âˆ‘log returns)
        2. Track the highest point ever reached
            rolling_max = cum_returns.cummax()
        3. Compare your current value to your peak
            drawdown = (cum_returns - rolling_max) / rolling_max
        4. Find the worst drawdown
            max_drawdown = min(drawdown)
    
    NB: A strategy can have high Sharpe but still suffer catastrophic drawdowns.

    Mental Notes:
    Volatility says: â€œHow much does it move?â€
    Downside volatility says: â€œHow much does it hurt when it moves?â€
    Sortino says: â€œHow much reward do I get per unit of pain?â€
    Drawdown says: â€œWhatâ€™s the worst psychological hell Iâ€™d experience?â€        


Day 4: Autocorrelation & Market Memory

    Autocorrelation: is the correlation of a series with its past values. i.e. Does todayâ€™s return behave like yesterdayâ€™s return?

    Autocorrelation = corr(Xt, X_{t-k})

    where:
        Xt = Value at time t
        X_{t-k} = Value at time t-k (lagged value)
        k = Lag (number of periods)

    Autocorrelation measures how much a time series is related to its own past values.

    Lag 1 autocorrelation: correlation between todayâ€™s return and yesterdayâ€™s return

        ð‘ð‘œð‘Ÿð‘Ÿ(ð‘Ÿð‘¡,ð‘Ÿð‘¡âˆ’1)

    Lag 5 autocorrelation: correlation between todayâ€™s return and return 5 days ago

        ð‘ð‘œð‘Ÿð‘Ÿ(ð‘Ÿð‘¡,ð‘Ÿð‘¡âˆ’5)

    Positive autocorrelation (autocorr > 0): means that if the series is high today, it tends to be high tomorrow (momentum)
    Negative autocorrelation (autocorr < 0): means that if the series is high today, it tends to be low tomorrow (mean reversion)
    Zero autocorrelation (autocorr â‰ˆ 0): means that the series has no memory of its past values

NB: Returns often have little memory. i.e. autocorr is often close to 0. 
    So we square returns to capture the impact of large positive and negative returns.

    Volatility clustering: is the tendency of volatility to cluster together i.e. periods of high volatility tend to be followed by periods of high volatility and periods of low volatility tend to be followed by periods of low volatility.

    Rolling Volatility vs Big Negative Returns (intuition)
        - If rolling volatility is much larger than big negative returns â†’ volatility is driven by both up and down movements
        - If rolling volatility is much smaller than big negative returns â†’ volatility is driven mostly by negative returns (dangerous)
        - If rolling volatility is roughly equal to big negative returns â†’ volatility is driven by both up and down movements
    
    GARCH (Generalized Autoregressive Conditional Heteroskedasticity): is a statistical model that describes the variance of a time series as a function of past values of the series and past values of the variance.

    


